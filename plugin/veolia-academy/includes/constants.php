<?php
global $wpdb;
$table_settings = $wpdb->prefix . 'veolia_academy_settings';
$settings = $wpdb->get_results("SELECT ispring_account_url,ispring_account_email,ispring_account_password,department_internal,department_external,cost from $table_settings WHERE id = 1", "ARRAY_A");
$settings = $settings[0];


$ispring_domain = explode('/',$settings['ispring_account_url']);
const PROTOCOL_STRING = 'https://';
$ISPRING_LEARN_DOMAIN = $ispring_domain[2];
const ISPRING_JWT_LOGIN_URL = '/sso/login/jwt?jwt=';
const EXAMPLE_JWT_SECRET_KEY = 'h4943h9rhnf4389x45';
const EXAMPLE_JWT_ENCODE_ALG = 'HS256';

$api_headers = array(
    'X-Auth-Account-Url: '.$settings['ispring_account_url'],
    'X-Auth-Email: '.$settings['ispring_account_email'],
    'X-Auth-Password: '.base64_decode($settings['ispring_account_password']),
    //'X-Auth-Email: fidelis@mailinator.com',
    //'X-Auth-Password: Fiddy@12345',
    'Content-Type: application/xml'
);

$api_headers_json = array(
    'X-Auth-Account-Url: '.$settings['ispring_account_url'],
    'X-Auth-Email: '.$settings['ispring_account_email'],
    'X-Auth-Password: '.base64_decode($settings['ispring_account_password']),
    //'X-Auth-Email: fidelis@mailinator.com',
    //'X-Auth-Password: Fiddy@12345',
    'Content-Type: application/json'
);

//$department_id    = 'a840e0b6-3e8e-11ed-a0c5-86e94fed8091';
//$department_id    = '1ce83a32-6f58-11ed-ad8f-66818f4e4f6f';
$department_internal = $settings['department_internal'];
$department_external = $settings['department_external'];
$default_password = 'VeoliaAcademy12345';
$default_image = '../wp-content/plugins/veolia-academy/public/images/veolia.png';

$remember_me_expiry = 30;

$cost = round($settings['cost'],2);

//API ENDPOINTS
$api_url       = 'https://api-learn.ispringlearn.com/';
$register_api  = $api_url . 'user';
$user_info_api = $api_url . 'user/';
$course_list_api = $api_url . 'content';
$learning_track_course_mapping_api = $api_url . 'api/v2/learning_track/courses?learningTrackIds=';
$enrollement_api = $api_url . 'enrollment';
$modules_api = $api_url . 'course';
$module_status_update_api = $api_url . 'statistics/module';
$course_complete_api = $api_url . 'statistics/course';
//$change_password_api = $api_url . 'user/{user_id}/password';

// Country List 
$country_name = [];
/*
$country_name[1] = "Afghanistan";
$country_name[2] = "Albania";
$country_name[3] = "Algeria";
$country_name[4] = "American Samoa";
$country_name[5] = "Andorra";
$country_name[6] = "Angola";
$country_name[7] = "Anguilla";
$country_name[8] = "Antarctica";
$country_name[9] = "Antigua & Barbuda";
$country_name[10] = "Argentina";
$country_name[11] = "Armenia";
$country_name[12] = "Aruba";
$country_name[13] = "Australia";
$country_name[14] = "Austria";
$country_name[15] = "Azerbaijan";
$country_name[16] = "Bahamas";
$country_name[17] = "Bahrain";
$country_name[18] = "Bangladesh";
$country_name[19] = "Barbados";
$country_name[20] = "Belarus";
$country_name[21] = "Belgium";
$country_name[22] = "Belize";
$country_name[23] = "Benin";
$country_name[24] = "Bermuda";
$country_name[25] = "Bhutan";
$country_name[26] = "Bolivia";
$country_name[27] = "Bosnia & Herzegovina";
$country_name[28] = "Botswana";
$country_name[29] = "Bouvet Island";
$country_name[30] = "Brazil";
$country_name[31] = "British Indian Ocean Territory";
$country_name[32] = "Brunei";
$country_name[33] = "Bulgaria";
$country_name[34] = "Burkina Faso";
$country_name[35] = "Burundi";
$country_name[36] = "Bahamas";
$country_name[37] = "Bahrain";
$country_name[38] = "Bangladesh";
$country_name[39] = "Barbados";
$country_name[40] = "Cayman Islands";
$country_name[41] = "Central African Republic";
$country_name[42] = "Chad";
$country_name[43] = "Chile";
$country_name[44] = "China";
$country_name[45] = "Christmas Island";
$country_name[46] = "Cocos (Keeling) Islands";
$country_name[47] = "Colombia";
$country_name[48] = "Comoros";
$country_name[49] = "Congo - Brazzaville";
$country_name[50] = "Cook Islands";
$country_name[51] = "Costa Rica";
$country_name[52] = "Côte d’Ivoire";
$country_name[53] = "Croatia";
$country_name[54] = "Cuba";
$country_name[55] = "Cyprus";
$country_name[56] = "Czechia";
$country_name[57] = "Denmark";
$country_name[58] = "Djibouti";
$country_name[59] = "Dominica";
$country_name[60] = "Dominican Republic";
$country_name[61] = "Timor-Leste";
$country_name[62] = "Ecuador";
$country_name[63] = "Egypt";
$country_name[64] = "El Salvador";
$country_name[65] = "Equatorial Guinea";
$country_name[66] = "Eritrea";
$country_name[67] = "Estonia";
$country_name[68] = "Ethiopia";
$country_name[69] = "Falkland Islands";
$country_name[70] = "Faroe Islands";
$country_name[71] = "Fiji";
$country_name[72] = "Finland";
$country_name[73] = "France";
$country_name[74] = "French Guiana";
$country_name[75] = "French Polynesia";
$country_name[76] = "French Southern Territories";
$country_name[77] = "Gabon";
$country_name[78] = "Gambia";
$country_name[79] = "Georgia";
$country_name[80] = "Germany";
$country_name[81] = "Ghana";
$country_name[82] = "Gibraltar";
$country_name[83] = "Greece";
$country_name[84] = "Greenland";
$country_name[85] = "Grenada";
$country_name[86] = "Guadeloupe";
$country_name[87] = "Guam";
$country_name[88] = "Guatemala";
$country_name[89] = "Guinea";
$country_name[90] = "Guinea-Bissau";
$country_name[91] = "Guyana";
$country_name[92] = "Haiti";
$country_name[93] = "Heard & McDonald Islands";
$country_name[94] = "Honduras";
$country_name[95] = "Hong Kong SAR China";
$country_name[96] = "Hungary";
$country_name[97] = "Iceland";
$country_name[98] = "India";
$country_name[99] = "Indonesia";
$country_name[100] = "Iran";
$country_name[101] = "Iraq";
$country_name[102] = "Ireland";
$country_name[103] = "Israel";
$country_name[104] = "Italy";
$country_name[105] = "Jamaica";
$country_name[106] = "Japan";
$country_name[107] = "Jordan";
$country_name[108] = "Kazakhstan";
$country_name[109] = "Kenya";
$country_name[110] = "Kiribati";
$country_name[111] = "North Korea";
$country_name[112] = "South Korea";
$country_name[113] = "Kuwait";
$country_name[114] = "Kyrgyzstan";
$country_name[115] = "Laos";
$country_name[116] = "Latvia";
$country_name[117] = "Lebanon";
$country_name[118] = "Lesotho";
$country_name[119] = "Liberia";
$country_name[120] = "Libya";
$country_name[121] = "Liechtenstein";
$country_name[122] = "Lithuania";
$country_name[123] = "Luxembourg";
$country_name[124] = "Macao SAR China";
$country_name[125] = "North Macedonia";
$country_name[126] = "Madagascar";
$country_name[127] = "Malawi";
$country_name[128] = "Malaysia";
$country_name[129] = "Maldives";
$country_name[130] = "Mali";
$country_name[131] = "Malta";
$country_name[132] = "Marshall Islands";
$country_name[133] = "Martinique";
$country_name[134] = "Mauritania";
$country_name[135] = "Mauritius";
$country_name[136] = "Mayotte";
$country_name[137] = "Mexico";
$country_name[138] = "Micronesia";
$country_name[139] = "Moldova";
$country_name[140] = "Monaco";
$country_name[141] = "Mongolia";
$country_name[142] = "Morocco";
$country_name[143] = "Mozambique";
$country_name[144] = "Myanmar (Burma)";
$country_name[145] = "Namibia";
$country_name[146] = "Nauru";
$country_name[147] = "Nepal";
$country_name[148] = "Netherlands";
$country_name[149] = "Netherlands";
$country_name[150] = "New Caledonia";
$country_name[151] = "New Zealand";
$country_name[152] = "Nicaragua";
$country_name[153] = "Niger";
$country_name[154] = "Nigeria";
$country_name[155] = "Niue";
$country_name[156] = "Norfolk Island";
$country_name[157] = "Northern Mariana Islands";
$country_name[158] = "Norway";
$country_name[159] = "Oman";
$country_name[160] = "Pakistan";
$country_name[161] = "Palau";
$country_name[162] = "Palestinian Territories";
$country_name[163] = "Panama";
$country_name[164] = "Papua New Guinea";
$country_name[165] = "Paraguay";
$country_name[166] = "Peru";
$country_name[167] = "Philippines";
$country_name[168] = "Pitcairn Islands";
$country_name[169] = "Poland";
$country_name[170] = "Portugal";
$country_name[171] = "Puerto Rico";
$country_name[172] = "Qatar";
$country_name[173] = "Congo - Kinshasa";
$country_name[174] = "Réunion";
$country_name[175] = "Romania";
$country_name[176] = "Russia";
$country_name[177] = "Rwanda";
$country_name[178] = "St. Helena";
$country_name[179] = "St. Kitts & Nevis";
$country_name[180] = "St. Lucia";
$country_name[181] = "St. Pierre & Miquelon";
$country_name[182] = "St. Vincent & Grenadines";
$country_name[183] = "Samoa";
$country_name[184] = "San Marino";
$country_name[185] = "São Tomé & Príncipe";
$country_name[186] = "Saudi Arabia";
$country_name[187] = "Senegal";
$country_name[188] = "Serbia";
$country_name[189] = "Seychelles";
$country_name[190] = "Sierra Leone";
$country_name[191] = "Singapore";
$country_name[192] = "Slovakia";
$country_name[193] = "Slovenia";
$country_name[194] = "Solomon Islands";
$country_name[195] = "Somalia";
$country_name[196] = "South Africa";
$country_name[197] = "South Georgia & South Sandwich Islands";
$country_name[198] = "Spain";
$country_name[199] = "Sri Lanka";
$country_name[200] = "Sudan";
$country_name[201] = "Suriname";
$country_name[202] = "Svalbard & Jan Mayen";
$country_name[203] = "Eswatini";
$country_name[204] = "Sweden";
$country_name[205] = "Switzerland";
$country_name[206] = "Syria";
$country_name[207] = "Taiwan";
$country_name[208] = "Tajikistan";
$country_name[209] = "Tanzania";
$country_name[210] = "Thailand";
$country_name[211] = "Togo";
$country_name[212] = "Tokelau";
$country_name[213] = "Tonga";
$country_name[214] = "Trinidad & Tobago";
$country_name[215] = "Tunisia";
$country_name[216] = "Turkey";
$country_name[217] = "Turkmenistan";
$country_name[218] = "Turks & Caicos Islands";
$country_name[219] = "Tuvalu";
$country_name[220] = "Uganda";
$country_name[221] = "Ukraine";
$country_name[222] = "United Arab Emirates";
$country_name[223] = "United Kingdom";
$country_name[224] = "United States";
$country_name[225] = "Uruguay";
$country_name[226] = "U.S. Outlying Islands";
$country_name[227] = "Uzbekistan";
$country_name[228] = "Vanuatu";
$country_name[229] = "Vatican City";
$country_name[230] = "Venezuela";
$country_name[231] = "Vietnam";
$country_name[232] = "British Virgin Islands";
$country_name[233] = "U.S. Virgin Islands";
$country_name[234] = "Wallis & Futuna";
$country_name[235] = "Western Sahara";
$country_name[236] = "Yemen";
$country_name[237] = "Zambia";
$country_name[238] = "Zimbabwe";
$country_name[239] = "Montenegro";
$country_name[240] = "South Sudan";
*/

$country_name[1]= "Afghanistan";
$country_name[2]= "Albania";
$country_name[3]= "Algeria";
$country_name[4]= "American Samoa";
$country_name[5]= "Andorra";
$country_name[6]= "Angola";
$country_name[7]= "Anguilla";
$country_name[8]= "Antarctica";
$country_name[9]= "Antigua & Barbuda";
$country_name[10]= "Argentina";
$country_name[11]= "Armenia";
$country_name[12]= "Aruba";
$country_name[13]= "Australia";
$country_name[14]= "Austria";
$country_name[15]= "Azerbaijan";
$country_name[16]= "Bahamas";
$country_name[17]= "Bahrain";
$country_name[18]= "Bangladesh";
$country_name[19]= "Barbados";
$country_name[20]= "Belarus";
$country_name[21]= "Belgium";
$country_name[22]= "Belize";
$country_name[23]= "Benin";
$country_name[24]= "Bermuda";
$country_name[25]= "Bhutan";
$country_name[26]= "Bolivia";
$country_name[27]= "Bosnia & Herzegovina";
$country_name[28]= "Botswana";
$country_name[29]= "Bouvet Island";
$country_name[30]= "Brazil";
$country_name[31]= "British Indian Ocean Territory";
$country_name[32]= "Brunei";
$country_name[33]= "Bulgaria";
$country_name[34]= "Burkina Faso";
$country_name[35]= "Burundi";
$country_name[36]= "Cambodia";
$country_name[37]= "Cameroon";
$country_name[38]= "Canada";
$country_name[39]= "Cape Verde";
$country_name[40]= "Cayman Islands";
$country_name[41]= "Central African Republic";
$country_name[42]= "Chad";
$country_name[43]= "Chile";
$country_name[44]= "China";
$country_name[45]= "Christmas Island";
$country_name[46]= "Cocos (Keeling) Islands";
$country_name[47]= "Colombia";
$country_name[48]= "Comoros";
$country_name[49]= "Congo - Brazzaville";
$country_name[50]= "Cook Islands";
$country_name[51]= "Costa Rica";
$country_name[52]= "Côte divoire";
$country_name[53]= "Croatia";
$country_name[54]= "Cuba";
$country_name[55]= "Cyprus";
$country_name[56]= "Czechia";
$country_name[57]= "Denmark";
$country_name[58]= "Djibouti";
$country_name[59]= "Dominica";
$country_name[60]= "Dominican Republic";
$country_name[61]= "Timor-Leste";
$country_name[62]= "Ecuador";
$country_name[63]= "Egypt";
$country_name[64]= "El Salvador";
$country_name[65]= "Equatorial Guinea";
$country_name[66]= "Eritrea";
$country_name[67]= "Estonia";
$country_name[68]= "Ethiopia";
$country_name[69]= "Falkland Islands";
$country_name[70]= "Faroe Islands";
$country_name[71]= "Fiji";
$country_name[72]= "Finland";
$country_name[73]= "France";
$country_name[74]= "French Guiana";
$country_name[75]= "French Polynesia";
$country_name[76]= "French Southern Territories";
$country_name[77]= "Gabon";
$country_name[78]= "Gambia";
$country_name[79]= "Georgia";
$country_name[80]= "Germany";
$country_name[81]= "Ghana";
$country_name[82]= "Gibraltar";
$country_name[83]= "Greece";
$country_name[84]= "Greenland";
$country_name[85]= "Grenada";
$country_name[86]= "Guadeloupe";
$country_name[87]= "Guam";
$country_name[88]= "Guatemala";
$country_name[89]= "Guinea";
$country_name[90]= "Guinea-Bissau";
$country_name[91]= "Guyana";
$country_name[92]= "Haiti";
$country_name[93]= "Heard & McDonald Islands";
$country_name[94]= "Honduras";
$country_name[95]= "Hong Kong SAR China";
$country_name[96]= "Hungary";
$country_name[97]= "Iceland";
$country_name[98]= "India";
$country_name[99]= "Indonesia";
$country_name[100]= "Iran";
$country_name[101]= "Iraq";
$country_name[102]= "Ireland";
$country_name[103]= "Israel";
$country_name[104]= "Italy";
$country_name[105]= "Jamaica";
$country_name[106]= "Japan";
$country_name[107]= "Jordan";
$country_name[108]= "Kazakhstan";
$country_name[109]= "Kenya";
$country_name[110]= "Kiribati";
$country_name[111]= "North Korea";
$country_name[112]= "South Korea";
$country_name[113]= "Kuwait";
$country_name[114]= "Kyrgyzstan";
$country_name[115]= "Laos";
$country_name[116]= "Latvia";
$country_name[117]= "Lebanon";
$country_name[118]= "Lesotho";
$country_name[119]= "Liberia";
$country_name[120]= "Libya";
$country_name[121]= "Liechtenstein";
$country_name[122]= "Lithuania";
$country_name[123]= "Luxembourg";
$country_name[124]= "Macao SAR China";
$country_name[125]= "North Macedonia";
$country_name[126]= "Madagascar";
$country_name[127]= "Malawi";
$country_name[128]= "Malaysia";
$country_name[129]= "Maldives";
$country_name[130]= "Mali";
$country_name[131]= "Malta";
$country_name[132]= "Marshall Islands";
$country_name[133]= "Martinique";
$country_name[134]= "Mauritania";
$country_name[135]= "Mauritius";
$country_name[136]= "Mayotte";
$country_name[137]= "Mexico";
$country_name[138]= "Micronesia";
$country_name[139]= "Moldova";
$country_name[140]= "Monaco";
$country_name[141]= "Mongolia";
$country_name[142]= "Morocco";
$country_name[143]= "Mozambique";
$country_name[144]= "Myanmar (Burma)";
$country_name[145]= "Namibia";
$country_name[146]= "Nauru";
$country_name[147]= "Nepal";
$country_name[148]= "Netherlands";
$country_name[149]= "Netherlands";
$country_name[150]= "New Caledonia";
$country_name[151]= "New Zealand";
$country_name[152]= "Nicaragua";
$country_name[153]= "Niger";
$country_name[154]= "Nigeria";
$country_name[155]= "Niue";
$country_name[156]= "Norfolk Island";
$country_name[157]= "Northern Mariana Islands";
$country_name[158]= "Norway";
$country_name[159]= "Oman";
$country_name[160]= "Pakistan";
$country_name[161]= "Palau";
$country_name[162]= "Palestinian Territories";
$country_name[163]= "Panama";
$country_name[164]= "Papua New Guinea";
$country_name[165]= "Paraguay";
$country_name[166]= "Peru";
$country_name[167]= "Philippines";
$country_name[168]= "Pitcairn Islands";
$country_name[169]= "Poland";
$country_name[170]= "Portugal";
$country_name[171]= "Puerto Rico";
$country_name[172]= "Qatar";
$country_name[173]= "Congo - Kinshasa";
$country_name[174]= "Réunion";
$country_name[175]= "Romania";
$country_name[176]= "Russia";
$country_name[177]= "Rwanda";
$country_name[178]= "St. Helena";
$country_name[179]= "St. Kitts & Nevis";
$country_name[180]= "St. Lucia";
$country_name[181]= "St. Pierre & Miquelon";
$country_name[182]= "St. Vincent & Grenadines";
$country_name[183]= "Samoa";
$country_name[184]= "San Marino";
$country_name[185]= "São Tomé & Príncipe";
$country_name[186]= "Saudi Arabia";
$country_name[187]= "Senegal";
$country_name[188]= "Serbia";
$country_name[189]= "Seychelles";
$country_name[190]= "Sierra Leone";
$country_name[191]= "Singapore";
$country_name[192]= "Slovakia";
$country_name[193]= "Slovenia";
$country_name[194]= "Solomon Islands";
$country_name[195]= "Somalia";
$country_name[196]= "South Africa";
$country_name[197]= "South Georgia & South Sandwich Islands";
$country_name[198]= "Spain";
$country_name[199]= "Sri Lanka";
$country_name[200]= "Sudan";
$country_name[201]= "Suriname";
$country_name[202]= "Svalbard & Jan Mayen";
$country_name[203]= "Eswatini";
$country_name[204]= "Sweden";
$country_name[205]= "Switzerland";
$country_name[206]= "Syria";
$country_name[207]= "Taiwan";
$country_name[208]= "Tajikistan";
$country_name[209]= "Tanzania";
$country_name[210]= "Thailand";
$country_name[211]= "Togo";
$country_name[212]= "Tokelau";
$country_name[213]= "Tonga";
$country_name[214]= "Trinidad & Tobago";
$country_name[215]= "Tunisia";
$country_name[216]= "Turkey";
$country_name[217]= "Turkmenistan";
$country_name[218]= "Turks & Caicos Islands";
$country_name[219]= "Tuvalu";
$country_name[220]= "Uganda";
$country_name[221]= "Ukraine";
$country_name[222]= "United Arab Emirates";
$country_name[223]= "United Kingdom";
$country_name[224]= "United States";
$country_name[225]= "Uruguay";
$country_name[226]= "U.S. Outlying Islands";
$country_name[227]= "Uzbekistan";
$country_name[228]= "Vanuatu";
$country_name[229]= "Vatican City";
$country_name[230]= "Venezuela";
$country_name[231]= "Vietnam";
$country_name[232]= "British Virgin Islands";
$country_name[233]= "U.S. Virgin Islands";
$country_name[234]= "Wallis & Futuna";
$country_name[235]= "Western Sahara";
$country_name[236]= "Yemen";
$country_name[237]= "Zambia";
$country_name[238]= "Zimbabwe";
$country_name[239]= "Montenegro";
$country_name[240]= "South Sudan";

// Area of interest list as static value
$area_of_interest_list=['Water Distribution','Water Treatment','Sewer Collections','Wastewater Treatment','Maintenance','Others'];

// Job function list as static value
$job_list=['Operations','Maintenance','Regulator','Educator','Engineering','Support Services (HR, Corporate, etc.)','Management'];
